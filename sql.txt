--sql command--

CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    unique_user_key varchar(255) NOT NULL UNIQUE,
    username VARCHAR(255) NOT NULL UNIQUE,
    email VARCHAR(255) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(255),
    profile_picture VARCHAR(255),
    dob DATE NOT NULL,
    bio TEXT,
    followers_count INT DEFAULT 0,
    following_count INT DEFAULT 0,
    post_count INT DEFAULT 0,
    likes_count INT DEFAULT 0, -- New field for total likes received
    streaks_percent FLOAT DEFAULT 0.0, -- New field for user streak percentage
    visibility ENUM('public', 'private', 'friends_only') DEFAULT 'public',
    notification_preferences JSON,
    content_preferences JSON,
    country VARCHAR(255),
    timezone VARCHAR(50),
    subscription_status ENUM('active', 'inactive', 'expired'),
    referral_code VARCHAR(50),
    last_password_change DATETIME,
    failed_login_attempts INT DEFAULT 0,
    is_suspended BOOLEAN DEFAULT FALSE,
    suspension_reason TEXT,
    google_id VARCHAR(255),
    facebook_id VARCHAR(255),
    apple_id VARCHAR(255),
    theme_preference ENUM('light', 'dark') DEFAULT 'light',
    language_preference VARCHAR(50) DEFAULT 'en',
    verification_code VARCHAR(255),
    verified_at DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    last_login DATETIME,
    is_active BOOLEAN DEFAULT TRUE,
    is_verified BOOLEAN DEFAULT FALSE,
    account_type ENUM('basic', 'premium') DEFAULT 'basic',
    two_factor_enabled BOOLEAN DEFAULT FALSE
);

--postgres sql command--

CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    unique_user_key varchar(255) NOT NULL UNIQUE,
    username VARCHAR(255) NOT NULL UNIQUE,
    email VARCHAR(255) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(255),
    profile_picture VARCHAR(255),
    profile_picture_key VARCHAR(255),
    dob DATE NOT NULL,
    bio TEXT,
    followers_count INT DEFAULT 0,
    following_count INT DEFAULT 0,
    post_count INT DEFAULT 0,
    likes_count INT DEFAULT 0, -- New field for total likes received
    streaks_percent FLOAT DEFAULT 0.0, -- New field for user streak percentage
    visibility VARCHAR(50) CHECK (visibility IN ('public', 'private', 'friends_only')) DEFAULT 'public',
    notification_preferences JSON,
    content_preferences JSON,
    country VARCHAR(255),
    timezone VARCHAR(50),
    subscription_status VARCHAR(50) CHECK (subscription_status IN ('active', 'inactive', 'expired')),
    referral_code VARCHAR(50),
    last_password_change TIMESTAMP,
    failed_login_attempts INT DEFAULT 0,
    is_suspended BOOLEAN DEFAULT FALSE,
    suspension_reason TEXT,
    google_id VARCHAR(255),
    facebook_id VARCHAR(255),
    apple_id VARCHAR(255),
    theme_preference VARCHAR(50) CHECK (theme_preference IN ('light', 'dark')) DEFAULT 'light',
    language_preference VARCHAR(50) DEFAULT 'en',
    verification_code VARCHAR(255),
    verified_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_login TIMESTAMP,
    is_active BOOLEAN DEFAULT TRUE,
    is_verified BOOLEAN DEFAULT FALSE,
    account_type VARCHAR(50) CHECK (account_type IN ('basic', 'premium')) DEFAULT 'basic',
    two_factor_enabled BOOLEAN DEFAULT FALSE
);
